{% extends "partials/base.html" %}
{% block title %}New Location Query{% endblock title %}
{% block extra_css %}
    <!-- multi.js css -->
<link rel="stylesheet" type="text/css" href="{{url_for('static' ,filename='libs/multi.js/dist/multi.min.css')}}" />
    <!-- autocomplete css -->
<link rel="stylesheet" href="{{url_for('static' ,filename='libs/@tarekraafat/autocomplete.js/dist/css/autoComplete.css')}}">
<link href="{{url_for('static' ,filename='libs/leaflet/dist/leaflet.css')}}" rel="stylesheet" type="text/css" />
{% endblock extra_css %}
{% block content %}
        <!-- ============================================================== -->
        <!-- Start right Content here -->
        <!-- ============================================================== -->
        <div class="main-content">

            <div class="page-content">
                <div class="container-fluid">

                <!-- start page title -->
                <div class="row" style="display:none;">
                    <div class="col-12">
                        <div class="page-title-box d-sm-flex align-items-center justify-content-between">
                            <h4 class="mb-sm-0">Form Advanced</h4>

                            <div class="page-title-right">
                                <ol class="breadcrumb m-0">
                                    <li class="breadcrumb-item"><a href="javascript: void(0);">Forms</a></li>
                                    <li class="breadcrumb-item active">Form Advanced</li>
                                </ol>
                            </div>

                        </div>
                    </div>
                </div>
                <!-- end page title -->
                <div class="row">
                    <div class="col-xl-8" style="display:none;">
                        <div class="card">
                            <div class="card-header border-0 align-items-center d-flex">
                                <h4 class="card-title mb-0 flex-grow-1">SmartGEO RECOMMENDATIONS</h4>
                                <div>
                                    <button type="button" class="btn btn-soft-secondary btn-sm">
                                        HIGH
                                    </button>
                                    <button type="button" class="btn btn-soft-secondary btn-sm">
                                        MID
                                    </button>
                                    <button type="button" class="btn btn-soft-secondary btn-sm">
                                        LOW
                                    </button>
                                    <button type="button" class="btn btn-soft-primary btn-sm">
                                        OTHER
                                    </button>
                                </div>
                            </div><!-- end card header -->

                            <div class="card-header p-0 border-0 bg-soft-light" style="display:none;">
                                <div class="row g-0 text-center">
                                    <div class="col-6 col-sm-3">
                                        <div class="p-3 border border-dashed border-start-0">
                                            <h5 class="mb-1"><span class="counter-value" data-target="7585">0</span></h5>
                                            <p class="text-muted mb-0">Cities</p>
                                        </div>
                                    </div>
                                    <!--end col-->
                                    <div class="col-6 col-sm-3">
                                        <div class="p-3 border border-dashed border-start-0">
                                            <h5 class="mb-1">$<span class="counter-value" data-target="22.89">0</span>k</h5>
                                            <p class="text-muted mb-0">Earnings</p>
                                        </div>
                                    </div>
                                    <!--end col-->
                                    <div class="col-6 col-sm-3">
                                        <div class="p-3 border border-dashed border-start-0">
                                            <h5 class="mb-1"><span class="counter-value" data-target="3">0</span></h5>
                                            <p class="text-muted mb-0">Countries</p>
                                        </div>
                                    </div>
                                    <!--end col-->
                                    <div class="col-6 col-sm-3">
                                        <div class="p-3 border border-dashed border-start-0 border-end-0">
                                            <h5 class="mb-1 text-success"><span class="counter-value" data-target="18.92">0</span>%</h5>
                                            <p class="text-muted mb-0">Conversation Ratio</p>
                                        </div>
                                    </div>
                                    <!--end col-->
                                </div>
                            </div><!-- end card header -->

                            <div class="card-body p-0 pb-2" style="display:block;">
                                <div class="w-100">
                                    <div style="display:none;" id="customer_impression_charts" data-colors='["--vz-primary", "--vz-success", "--vz-danger"]' class="apex-charts" dir="ltr"></div>
                                    <div id="leaflet-map-marker" class="leaflet-map" style="height:446px;"></div>
                                </div>
                            </div><!-- end card body -->
                        </div><!-- end card -->
                    </div><!-- end col -->

                    <div class="col-xl-4">
                        <!-- card -->
                        <div class="card card-height-100">
                            <div class="card-header border-bottom-dashed align-items-center d-flex">
                                <h4 class="card-title mb-0 flex-grow-1">SmartGEO Search</h4>
                                <div>
                                    <div class="dropdown" style="display:none;">
                                        <button class="btn btn-soft-primary btn-sm" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <span class="text-uppercase">TRNX<i class="mdi mdi-chevron-down align-middle ms-1"></i></span>
                                        </button>
                                        <div class="dropdown-menu dropdown-menu-end">
                                            <a class="dropdown-item" href="#">TRNX</a>
                                            <a class="dropdown-item" href="#">ER</a>
                                            <a class="dropdown-item" href="#">NPS</a>
                                            <a class="dropdown-item" href="#">REV</a>
                                        </div>
                                    </div>
                                </div>
                            </div><!-- end cardheader -->
                            <div class="card-body">
                                <div id="portfolio_donut_charts" data-colors='["--vz-primary", "--vz-info", "--vz-warning", "--vz-success"]' class="apex-charts" dir="ltr"></div>
                                <ul class="list-group list-group-flush border-dashed mb-0">
                                    <li class="list-group-item px-0">
                                        <div class="d-flex">
                                            <div class="flex-shrink-0 avatar-xs">
                                                <span class="avatar-title bg-light p-1 rounded-circle">
                                                </span>
                                            </div>
                                            <div class="flex-grow-1 ms-2">
                                                <select class="form-select rounded-pill mb-3" aria-label="Default select example" id="city">
                                                    <option selected>Select City</option>
                                                </select>
                                            </div>
                                        </div>
                                    </li><!-- end -->
                                    <li class="list-group-item px-0">
                                        <div class="d-flex">
                                            <div class="flex-shrink-0 avatar-xs">
                                                <span class="avatar-title bg-light p-1 rounded-circle">
                                                </span>
                                            </div>
                                            <div class="flex-grow-1 ms-2">
                                                <select class="form-select rounded-pill mb-3" aria-label="Default select example" id="area">
                                                    <option selected>Select Area</option>
                                                </select>
                                            </div>
                                        </div>
                                    </li>
                                    <li class="list-group-item px-0">
                                        <div class="d-flex">
                                            <div class="flex-shrink-0 avatar-xs">
                                                <span class="avatar-title bg-light p-1 rounded-circle">
                                                </span>
                                            </div>
                                            <div class="flex-grow-1 ms-2">
                                                <select class="form-select rounded-pill mb-3" aria-label="Default select example" id="type">
                                                    <option selected>Select Type</option>
                                                </select>
                                            </div>
                                        </div>
                                    </li>
                                    <button class="btn btn-primary" onclick="updatemap()">Add Additional Parameters</button>
                                    <div id = "table"></div>
                                </ul><!-- end -->
                            </div><!-- end card body -->
                        </div><!-- end card -->
                        <!-- end card -->
                    </div>
                    <div class="col-xl-8">
                        <div class="card" id="adv" style="display:none;">
                            <div class="card-header">
                                <h4 class="card-title mb-0">Advanced Parameters</h4>
                            </div><!-- end card header -->

                            <div class="card-body">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div>
                                            <h5 class="fs-14 mb-1">Select Parameters</h5>
                                            <p class="text-muted"> </p>
                                            <form>
                                                <select required multiple="multiple" name="favorite_fruits" id="multiselect-basic">
                                                    <option value="9">Existing Customer Base</option>
                                                    <option value="1">Traffic</option>
                                                    <option value="2">Existing Competetion Presence</option>
                                                    <option value="3">Density of Offices/Residences</option>
                                                    <option value="4">Nearby Facility</option>
                                                    <option value="5">Local Regulations</option>
                                                    <option value="6">Security</option>
                                                    <!--<option value="7">Visibility</option>-->
                                                    <option value="8">Budget Indiative</option>
                                                </select>
                                                <br>
                                                <input type="button" class="btn btn-primary" onclick="var el = document.getElementsByTagName('select')[0];showmenu(el);" value="Set Parameters">
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- end col -->
                </div>
                <div class="row" style="display:none;">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title mb-0">Custom country select input</h4>
                            </div>
                            <div class="card-body">
                                <div class="row g-3">
                                    <div class="col-lg-6">
                                        <div>
                                            <label class="form-label">Simple select example</label>
                                            <div data-input-flag data-option-flag-name>
                                                <input type="text" class="form-control rounded-end flag-input" readonly placeholder="Select country" data-bs-toggle="dropdown" aria-expanded="false" />
                                                <div class="dropdown-menu w-100">
                                                    <div class="p-2 px-3 pt-1 searchlist-input">
                                                        <input type="text" class="form-control form-control-sm border search-countryList" placeholder="Search country name or country code..." />
                                                    </div>
                                                    <ul class="list-unstyled dropdown-menu-list mb-0"></ul>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="mt-3">
                                            <label class="form-label">Select input flag with img & name</label>
                                            <div data-input-flag data-option-flag-img-name>
                                                <input type="text" class="form-control rounded-end flag-input" readonly value="United States" placeholder="Select country" data-bs-toggle="dropdown" aria-expanded="false" />
                                                <div class="dropdown-menu w-100">
                                                    <div class="p-2 px-3 pt-1 searchlist-input">
                                                        <input type="text" class="form-control form-control-sm border search-countryList" placeholder="Search country name or country code..." />
                                                    </div>
                                                    <ul class="list-unstyled dropdown-menu-list mb-0"></ul>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="mt-3">
                                            <label class="form-label">Search input false in dropdown menu</label>
                                            <div data-input-flag data-option-flag-name data-search-input="false">
                                                <input type="text" class="form-control rounded-end flag-input" readonly value="" placeholder="Select country" data-bs-toggle="dropdown" aria-expanded="false" />
                                                <div class="dropdown-menu w-100">
                                                    <div class="p-2 px-3 pt-1 searchlist-input">
                                                        <input type="text" class="form-control form-control-sm border search-countryList" placeholder="Search country name or country code..." />
                                                    </div>
                                                    <ul class="list-unstyled dropdown-menu-list mb-0"></ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-6">
                                        <div>
                                            <label class="form-label">Select input with buttons & Flag with number</label>
                                            <div class="input-group" data-input-flag>
                                                <button class="btn btn-light border" type="button" data-bs-toggle="dropdown" aria-expanded="false"><img src="{{url_for('static' ,filename='images/flags/us.svg')}}" alt="flag img" height="20" class="country-flagimg rounded"><span class="ms-2 country-codeno">+ 1</span></button>
                                                <input type="text" class="form-control rounded-end flag-input" value="" placeholder="Enter number" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');" />
                                                <div class="dropdown-menu w-100">
                                                    <div class="p-2 px-3 pt-1 searchlist-input">
                                                        <input type="text" class="form-control form-control-sm border search-countryList" placeholder="Search country name or country code..." />
                                                    </div>
                                                    <ul class="list-unstyled dropdown-menu-list mb-0"></ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mt-3">
                                            <label class="form-label">Select input with buttons & Flag</label>
                                            <div class="input-group" data-input-flag data-option-countrycode="false">
                                                <button class="btn btn-light border" type="button" data-bs-toggle="dropdown" aria-expanded="false"><img src="{{url_for('static' ,filename='images/flags/us.svg')}}" alt="flag img" height="20" class="country-flagimg rounded"><span class="ms-2 country-codeno">+ 1</span></button>
                                                <input type="text" class="form-control rounded-end flag-input" value="" placeholder="Enter number" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');" />
                                                <div class="dropdown-menu w-100">
                                                    <div class="p-2 px-3 pt-1 searchlist-input">
                                                        <input type="text" class="form-control form-control-sm border search-countryList" placeholder="Search country name or country code..." />
                                                    </div>
                                                    <ul class="list-unstyled dropdown-menu-list mb-0"></ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- end card body -->
                        </div>
                        <!-- end card -->
                    </div>
                    <!-- end col -->
                </div>
                <!-- end row -->

                <div class="row" style="display:none;">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title mb-0">Form Input Spin</h4>
                            </div><!-- end card header -->

                            <div class="card-body">
                                <div>
                                    <div class="row gy-4">
                                        <div class="col-sm-6">
                                            <div>
                                                <h5 class="fs-13 fw-medium text-muted">Default</h5>

                                                <div class="input-step">
                                                    <button type="button" class="minus">–</button>
                                                    <input type="number" class="product-quantity" value="2" min="0" max="100" readonly>
                                                    <button type="button" class="plus">+</button>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-sm-6">
                                            <div>
                                                <h5 class="fs-13 fw-medium text-muted">Light</h5>
                                                <div class="input-step light">
                                                    <button type="button" class="minus">–</button>
                                                    <input type="number" class="product-quantity" value="5" min="0" max="100" readonly>
                                                    <button type="button" class="plus">+</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- end row -->

                                    <div class="mt-4 pt-2">
                                        <div class="row gy-4">
                                            <div class="col-sm-6">
                                                <div>
                                                    <h5 class="fs-13 fw-medium text-muted">Default (Full width)</h5>
                                                    <div class="input-step full-width">
                                                        <button type="button" class="minus">–</button>
                                                        <input type="number" class="product-quantity" value="4" min="0" max="100" readonly>
                                                        <button type="button" class="plus">+</button>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-sm-6">
                                                <div>
                                                    <h5 class="fs-13 fw-medium text-muted">Light (Full width)</h5>
                                                    <div class="input-step full-width light">
                                                        <button type="button" class="minus">–</button>
                                                        <input type="number" class="product-quantity" value="6" min="0" max="100" readonly>
                                                        <button type="button" class="plus">+</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- end row -->
                                    </div>

                                    <div class="row mt-4 pt-2">
                                        <h5 class="fs-13 fw-medium text-muted">Colored</h5>
                                        <div class="d-flex flex-wrap align-items-start gap-2">
                                            <div class="input-step step-primary">
                                                <button type="button" class="minus">–</button>
                                                <input type="number" class="product-quantity" value="6" min="0" max="100" readonly>
                                                <button type="button" class="plus">+</button>
                                            </div>
                                            <div class="input-step step-secondary">
                                                <button type="button" class="minus">–</button>
                                                <input type="number" class="product-quantity" value="1" min="0" max="100" readonly>
                                                <button type="button" class="plus">+</button>
                                            </div>
                                            <div class="input-step step-success">
                                                <button type="button" class="minus">–</button>
                                                <input type="number" class="product-quantity" value="3" min="0" max="100" readonly>
                                                <button type="button" class="plus">+</button>
                                            </div>
                                            <div class="input-step step-info">
                                                <button type="button" class="minus">–</button>
                                                <input type="number" class="product-quantity" value="1" min="0" max="100" readonly>
                                                <button type="button" class="plus">+</button>
                                            </div>
                                            <div class="input-step step-warning">
                                                <button type="button" class="minus">–</button>
                                                <input type="number" class="product-quantity" value="4" min="0" max="100" readonly>
                                                <button type="button" class="plus">+</button>
                                            </div>
                                            <div class="input-step step-danger">
                                                <button type="button" class="minus">–</button>
                                                <input type="number" class="product-quantity" value="5" min="0" max="100" readonly>
                                                <button type="button" class="plus">+</button>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div><!-- end card-body -->
                        </div><!-- end card -->
                    </div>
                    <!-- end col -->
                </div>
                <!-- end row -->

                <div class="row" style="display:none;">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title mb-0">Auto Complete</h4>
                            </div><!-- end card header -->

                            <div class="card-body">
                                <div>
                                    <div class="row g-3">
                                        <div class="col-lg-6">
                                            <div>
                                                <label for="autoCompleteFruit" class="text-muted">Search Result of Fruit Names</label>
                                                <input id="autoCompleteFruit" type="text" dir="ltr" spellcheck=false autocomplete="off" autocapitalize="off">
                                            </div>
                                        </div>
                                        <!-- end col -->
                                        <div class="col-lg-6">
                                            <div>
                                                <label for="autoCompleteCars" class="text-muted">Search Result of Car Names</label>
                                                <input id="autoCompleteCars" type="text" dir="ltr" spellcheck=false autocomplete="off" autocapitalize="off">
                                            </div>
                                        </div>
                                        <!-- end col -->
                                    </div>
                                    <!-- end row -->
                                </div>
                            </div><!-- end card-body -->
                        </div><!-- end card -->
                    </div>
                    <!-- end col -->
                </div>
                <!-- end row -->

                <div class="row">
                    
                                    <!-- end col -->

                                    <div class="col-lg-6" style="display:none;">
                                        <div class="mt-4 mt-lg-0">
                                            <h5 class="fs-14 mb-1">Headers</h5>
                                            <p class="text-muted">Example of Multi Select Headers </p>
                                            <form>
                                                <select required multiple="multiple" name="favorite_cars" id="multiselect-header">
                                                    <option>Chevrolet</option>
                                                    <option>Fiat</option>
                                                    <option>Ford</option>
                                                    <option>Honda</option>
                                                    <option selected>Hyundai</option>
                                                    <option>Kia</option>
                                                    <option>Mahindra</option>
                                                    <option>Maruti</option>
                                                    <option>Mitsubishi</option>
                                                    <option>MG</option>
                                                    <option>Nissan</option>
                                                    <option>Renault</option>
                                                    <option selected>Skoda</option>
                                                    <option selected>Tata</option>
                                                    <option selected>Toyato</option>
                                                    <option>Volkswagen</option>
                                                </select>
                                            </form>
                                        </div>
                                    </div>
                                    <!-- end col -->
                                </div>
                                <!-- end row -->
                                <div class="row">
                                    <div class="col-xxl-6" style="display:none;">
                                        <div class="card">
                                            <div class="card-header align-items-center d-flex">
                                                <h4 class="card-title mb-0 flex-grow-1">Vertical Form</h4>
                                                <div class="flex-shrink-0">
                                                    <div class="form-check form-switch form-switch-right form-switch-md">
                                                        <label for="vertical-form-showcode" class="form-label text-muted">Show Code</label>
                                                        <input class="form-check-input code-switcher" type="checkbox" id="vertical-form-showcode">
                                                    </div>
                                                </div>
                                            </div><!-- end card header -->
                                            <div class="card-body">
                                                <p class="text-muted">Example of vertical form using <code>form-control</code> class. No need to specify row and col class to create vertical form.</p>
                                                <div class="live-preview">
                                                    <form action="javascript:void(0);">
                                                        <div class="mb-3">
                                                            <label for="employeeName" class="form-label">Employee Name</label>
                                                            <input type="text" class="form-control" id="employeeName" placeholder="Enter emploree name">
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="employeeUrl" class="form-label">Employee Department URL</label>
                                                            <input type="url" class="form-control" id="employeeUrl" placeholder="Enter emploree url">
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="StartleaveDate" class="form-label">Start Leave Date</label>
                                                            <input type="date" class="form-control" data-provider="flatpickr" id="StartleaveDate">
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="EndleaveDate" class="form-label">End Leave Date</label>
                                                            <input type="date" class="form-control" data-provider="flatpickr" id="EndleaveDate">
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="VertimeassageInput" class="form-label">Message</label>
                                                            <textarea class="form-control" id="VertimeassageInput" rows="3" placeholder="Enter your message"></textarea>
                                                        </div>
                                                        <div class="text-end">
                                                            <button type="submit" class="btn btn-primary">Add Leave</button>
                                                        </div>
                                                    </form>
                                                </div>
                                                <div class="d-none code-view">
                                                    <pre class="language-markup" style="height: 375px;">
            <code>&lt;form action=&quot;&quot;&gt;
                &lt;div class=&quot;mb-3&quot;&gt;
                    &lt;label for=&quot;employeeName&quot; class=&quot;form-label&quot;&gt;Employee Name&lt;/label&gt;
                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;employeeName&quot; placeholder=&quot;Enter emploree name&quot;&gt;
                &lt;/div&gt;
                &lt;div class=&quot;mb-3&quot;&gt;
                    &lt;label for=&quot;employeeUrl&quot; class=&quot;form-label&quot;&gt;Employee Department URL&lt;/label&gt;
                    &lt;input type=&quot;url&quot; class=&quot;form-control&quot; id=&quot;employeeUrl&quot; placeholder=&quot;Enter emploree url&quot;&gt;
                &lt;/div&gt;
                &lt;div class=&quot;mb-3&quot;&gt;
                    &lt;label for=&quot;StartleaveDate&quot; class=&quot;form-label&quot;&gt;Start Leave Date&lt;/label&gt;
                    &lt;input type=&quot;date&quot; class=&quot;form-control&quot; id=&quot;StartleaveDate&quot;&gt;
                &lt;/div&gt;
                &lt;div class=&quot;mb-3&quot;&gt;
                    &lt;label for=&quot;EndleaveDate&quot; class=&quot;form-label&quot;&gt;End Leave Date&lt;/label&gt;
                    &lt;input type=&quot;date&quot; class=&quot;form-control&quot; id=&quot;EndleaveDate&quot;&gt;
                &lt;/div&gt;
                &lt;div class=&quot;mb-3&quot;&gt;
                    &lt;label for=&quot;VertimeassageInput&quot; class=&quot;form-label&quot;&gt;Message&lt;/label&gt;
                    &lt;textarea class=&quot;form-control&quot; id=&quot;VertimeassageInput&quot; rows=&quot;3&quot; placeholder=&quot;Enter your message&quot;&gt;&lt;/textarea&gt;
                &lt;/div&gt;
                &lt;div class=&quot;text-end&quot;&gt;
                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Add Leave&lt;/button&gt;
                &lt;/div&gt;
            &lt;/form&gt;</code></pre>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xxl-6" style="display:none;" id="parameters">
                                        <div class="card">
                                            <div class="card-header align-items-center d-flex">
                                                <h4 class="card-title mb-0 flex-grow-1"></h4>
                                                <div class="flex-shrink-0" style="display:none;">
                                                    <div class="form-check form-switch form-switch-right form-switch-md">
                                                        <label for="horizontal-form-showcode" class="form-label text-muted">Show Code</label>
                                                        <input class="form-check-input code-switcher" type="checkbox" id="horizontal-form-showcode">
                                                    </div>
                                                </div>
                                            </div><!-- end card header -->
                                            <div class="card-body">
                                                <p class="text-muted" style="display:none;">Create horizontal forms with the grid by adding the <code>row</code> class to form groups and using the <code>col-*-*</code> class to specify the width of your labels and controls. Be sure to add <code>col-form-label</code> class to your <code>&lt;label&gt;</code>s as well so they’re vertically centered with their associated form controls.</p>
                                                <div class="live-preview">
                                                    <form action="javascript:void(0);">
                                                        <div class="row mb-3" id="9" style="display:none;">
                                                            <div class="col-lg-3">
                                                                <label for="dateInput" class="form-label">Existing Customer Base</label>
                                                            </div>
                                                            <div class="col-lg-9">
                                                                <div class="input-group">
                                                                    <label class="input-group-text" for="inputGroupSelect01">Select Customer Presence</label>
                                                                    <select class="form-select" id="inputGroupSelect01">
                                                                        
                                                                        <option selected value="1">High</option>
                                                                        <option value="2">Medium</option>
                                                                        <option value="3">Low</option>
                                                                        
                                                                    </select>
                                                                </div>
                                                        </div>
                                                        </div>
                                                        <div class="row mb-3" id="1" style="display:none;">
                                                            <div class="col-lg-3">
                                                                <label for="nameInput" class="form-label">Ideal Traffic</label>
                                                            </div>
                                                            <div class="col-lg-9">
                                                                    <div class="input-group">
                                                                        <label class="input-group-text" for="inputGroupSelect01">Select Time Range</label>
                                                                        <select class="form-select" id="inputGroupSelect01">
                                                                            
                                                                            <option selected value="1">Morning</option>
                                                                            <option value="2">Noon</option>
                                                                            <option value="3">Evening</option>
                                                                            <option value="4">Night</option>
                                                                        </select>
                                                                    </div>
                                                            </div>
                                                            
                                                            <br>
                                                            <div class="col-lg-9">
                                                                <div class="input-group">
                                                                    <label class="input-group-text" for="inputGroupSelect01">Select Traffic Level</label>
                                                                    <select class="form-select" id="inputGroupSelect01">
                                                                        
                                                                        <option selected value="1">High</option>
                                                                        <option value="2">Medium</option>
                                                                        <option value="3">Low</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row mb-3" id="2" style="display:none;">
                                                            <div class="col-lg-3">
                                                                <label for="websiteUrl" class="form-label">Existing Competetion Presence</label>
                                                            </div>
                                                            <div class="col-lg-9">
                                                                <input type="range" class="form-range" min="0" max="10" id="customerange" oninput="this.nextElementSibling.value = this.value"><output>5</output><span>Km</span>
                                                            </div>
                                                        </div>
                                                        <div class="row mb-3" id="3" style="display:none;">
                                                            <div class="col-lg-3">
                                                                <label for="dateInput" class="form-label">Density Of Offices/Apartments Nearby</label>
                                                            </div>
                                                            <div class="col-lg-9">
                                                                <div class="input-group">
                                                                    <label class="input-group-text" for="inputGroupSelect01">Select Office Density</label>
                                                                    <select class="form-select" id="inputGroupSelect01">
                                                                        
                                                                        <option selected value="1">High</option>
                                                                        <option value="2">Medium</option>
                                                                        <option value="3">Low</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row mb-3" id="4" style="display:none;">
                                                            <div class="col-lg-3">
                                                                <label for="leaveemails" class="form-label">Nearby Facilities</label>
                                                            </div>
                                                            <div class="col-lg-9">
                                                                <div class="input-group">
                                                                    <label class="input-group-text" for="inputGroupSelect01">Select Nearby Facilities</label>
                                                                    <select class="form-select" id="inputGroupSelect01" multiple>
                                                                        
                                                                        <option selected value="1">School</option>
                                                                        <option value="2">Colleges</option>
                                                                        <option selected value="3">Banks</option>
                                                                        <option value="4">Malls</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row mb-3" id="5" style="display:none;">
                                                            <div class="col-lg-3">
                                                                <label for="contactNumber" class="form-label">Local Regulations</label>
                                                            </div>
                                                            <div class="col-lg-9">
                                                                <div class="input-group">
                                                                    <label class="input-group-text" for="inputGroupSelect01">Local Regulations Applicable</label>
                                                                    <select class="form-select" id="inputGroupSelect01">
                                                                        <option selected value="1">Yes</option>
                                                                        <option value="2">No</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row mb-3" id="6" style="display:none;">
                                                            <div class="col-lg-3">
                                                                <label for="meassageInput" class="form-label">Security</label>
                                                            </div>
                                                            <div class="col-lg-9">
                                                                <textarea class="form-control" id="meassageInput" rows="3" placeholder="Enter your message"></textarea>
                                                            </div>
                                                        </div>
                                                        <div class="row mb-3" id="7" style="display:none;">
                                                            <div class="col-lg-3">
                                                                <label for="meassageInput" class="form-label">Visibility</label>
                                                            </div>
                                                            <div class="col-lg-9">
                                                                <textarea class="form-control" id="meassageInput" rows="3" placeholder="Enter your message"></textarea>
                                                            </div>
                                                        </div>
                                                        <div class="row mb-3" id="8" style="display:none;">
                                                            <div class="col-lg-3">
                                                                <label for="meassageInput" class="form-label">Indicative Budget</label>
                                                            </div>
                                                            <div class="col-lg-9">
                                                                <div class="input-group">
                                                                    <label class="input-group-text" for="inputGroupSelect01">Select Budget</label>
                                                                    <select class="form-select" id="inputGroupSelect01">
                                                                        
                                                                        <option selected value="1">SAR 100K-200K</option>
                                                                        <option value="2">SAR 200K-300K</option>
                                                                        <option value="3">SAR 300K-400K</option>
                                                                        <option value="4">SAR 400K-500K</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="text-start">
                                                            <button type="submit" class="btn btn-primary">Save Query</button>
                                                            <button type="reset" class="btn btn-success" onclick="window.location.href=window.location.href.split('/dashboard-crypto')[0]+'/dashboard-results/'">Search Query</button>
                                                        </div>
                                                    </form>
                                                </div>
                                                <div class="d-none code-view">
                                                    <pre class="language-markup" style="height: 375px;">
            <code>&lt;form action=&quot;&quot;&gt;
                &lt;div class=&quot;row mb-3&quot;&gt;
                    &lt;div class=&quot;col-lg-3&quot;&gt;
                        &lt;label for=&quot;nameInput&quot; class=&quot;form-label&quot;&gt;Name&lt;/label&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;col-lg-9&quot;&gt;
                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;nameInput&quot; placeholder=&quot;Enter your name&quot;&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;row mb-3&quot;&gt;
                    &lt;div class=&quot;col-lg-3&quot;&gt;
                        &lt;label for=&quot;websiteUrl&quot; class=&quot;form-label&quot;&gt;Website URL&lt;/label&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;col-lg-9&quot;&gt;
                        &lt;input type=&quot;url&quot; class=&quot;form-control&quot; id=&quot;websiteUrl&quot; placeholder=&quot;Enter your url&quot;&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;row mb-3&quot;&gt;
                    &lt;div class=&quot;col-lg-3&quot;&gt;
                        &lt;label for=&quot;dateInput&quot; class=&quot;form-label&quot;&gt;Date&lt;/label&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;col-lg-9&quot;&gt;
                        &lt;input type=&quot;date&quot; class=&quot;form-control&quot; id=&quot;dateInput&quot;&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;row mb-3&quot;&gt;
                    &lt;div class=&quot;col-lg-3&quot;&gt;
                        &lt;label for=&quot;timeInput&quot; class=&quot;form-label&quot;&gt;Time&lt;/label&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;col-lg-9&quot;&gt;
                        &lt;input type=&quot;time&quot; class=&quot;form-control&quot; id=&quot;timeInput&quot;&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;row mb-3&quot;&gt;
                    &lt;div class=&quot;col-lg-3&quot;&gt;
                        &lt;label for=&quot;leaveemails&quot; class=&quot;form-label&quot;&gt;Email Id&lt;/label&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;col-lg-9&quot;&gt;
                        &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;leaveemails&quot; placeholder=&quot;Enter your email&quot;&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;row mb-3&quot;&gt;
                    &lt;div class=&quot;col-lg-3&quot;&gt;
                        &lt;label for=&quot;contactNumber&quot; class=&quot;form-label&quot;&gt;Contact Number&lt;/label&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;col-lg-9&quot;&gt;
                        &lt;input type=&quot;number&quot; class=&quot;form-control&quot; id=&quot;contactNumber&quot; placeholder=&quot;+91 9876543210&quot;&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;row mb-3&quot;&gt;
                    &lt;div class=&quot;col-lg-3&quot;&gt;
                        &lt;label for=&quot;meassageInput&quot; class=&quot;form-label&quot;&gt;Message&lt;/label&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;col-lg-9&quot;&gt;
                        &lt;textarea class=&quot;form-control&quot; id=&quot;meassageInput&quot; rows=&quot;3&quot; placeholder=&quot;Enter your message&quot;&gt;&lt;/textarea&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;text-end&quot;&gt;
                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Add Leave&lt;/button&gt;
                &lt;/div&gt;
            &lt;/form&gt;</code></pre>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row" style="display:none;">
                                    <div class="col-lg-6">
                                        <div class="mt-4">
                                            <h5 class="fs-14 mb-1">Option Groups</h5>
                                            <p class="text-muted">Example of Multi Select Option Groups</p>
                                            <form>
                                                <select multiple="multiple" name="favorite_cars" id="multiselect-optiongroup">
                                                    <optgroup label="Traffic">
                                                        <option>High</option>
                                                        <option>Medium</option>
                                                        <option>Low</option>
                                                    </optgroup>
                                                    <optgroup label="Volkswagen">
                                                        <option>Polo</option>
                                                        <option>Taigun</option>
                                                        <option>Vento</option>
                                                    </optgroup>
                                                </select>
                                            </form>
                                        </div>
                                    </div>
                                    <!-- end col -->
                                </div>
                                <!-- end row -->
                            </div><!-- end card-body -->
                        </div><!-- end card -->
                    </div>
                    <!-- end col -->
                </div>
                <!-- end row -->
            </div>
            <!-- container-fluid -->
            
        </div>
        <!-- End Page-content -->

        {% block footer %}
        {% include "partials/footer.html" %}
        {% endblock footer %}
        </div>
        <!-- end main content-->
{% endblock content %}
{% block extra_js %}
    <script>
        function showmenu(select) {
            var result = [];
            var options = document.getElementById("multiselect-basic").options;
            var opt;
          
            for (var i=0, iLen=options.length; i<iLen; i++) {
              opt = options[i];
          
              if (opt.selected) {
                document.getElementById("parameters").style.display = "block";
                document.getElementById(opt.value || opt.text).style.display = "block";
                result.push(opt.value || opt.text);
              }
              else{
                document.getElementById(opt.value || opt.text).style.display = "none";
              }
            }
            console.log(result);
          }
    </script>
    <!-- multi.js -->
    <script src="{{url_for('static' ,filename='libs/multi.js/dist/multi.min.js')}}"></script>
    <!-- autocomplete js -->
    <script src="{{url_for('static' ,filename='libs/@tarekraafat/autocomplete.js/dist/autoComplete.min.js')}}"></script>

    <!-- init js -->
    <script src="{{url_for('static' ,filename='js/pages/form-advanced.init.js')}}"></script>
    <!-- input spin init -->
    <script src="{{url_for('static' ,filename='js/pages/form-input-spin.init.js')}}"></script>
    <!-- input flag init -->
    <script src="{{url_for('static' ,filename='js/pages/flag-input.init.js')}}"></script>
    <script src="{{url_for('static' ,filename='libs/leaflet/dist/leaflet.js')}}"></script>

    <!-- leaflet map.init -->
    <script src="{{url_for('static' ,filename='js/pages/leaflet-us-states.js')}}"></script>
    <script src="{{url_for('static' ,filename='js/pages/leaflet-heat.js')}}"></script>
    <script>
        /*
    Template Name: Velzon - Admin & Dashboard Template
    Author: Themesbrand
    Website: https://Themesbrand.com/
    Contact: Themesbrand@gmail.com
    File: Leaflet init js
    */
    
    // leaflet-map
    // var mymap = L.map('leaflet-map').setView([51.505, -0.09], 13);
    
    // L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoidWRhcyIsImEiOiJjbGhhcDRod2IwZWoyM2VwYzAzdXRqYWczIn0.f2kFlTNpIUc_6YNliuIVpQ', {
    //     maxZoom: 18,
    //     attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
    //         '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
    //         'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
    //     id: 'mapbox/streets-v11',
    //     tileSize: 512,
    //     zoomOffset: -1
    // }).addTo(mymap);
    let data = {{recos|safe}};
    let entity = {{entity|safe}};
    let facility = {{facility|safe}};
    let offices = {{offices|safe}};
    let residential = {{residential|safe}};
    let entity_details = {{entity_details|safe}};
    let customer_branchmap = {{customer_branchmap|safe}};
    let area = [];
    let city = [];
    let type = [];
    for (let i = 0; i < data.length; i++) {
        if (area.includes(data[i][2])==false){
            area.push(data[i][2]);
        }
        if (city.includes(data[i][1])==false){
            city.push(data[i][1]);
        }
        if (type.includes(data[i][3])==false){
            type.push(data[i][3]);
        }
    }
    //console.log(area);
    //console.log(city);
    //console.log(type);
    var areaselect = document.getElementById('area');
    var cityselect = document.getElementById('city');
    var typeselect = document.getElementById('type');
    for (var i = 0; i<area.length; i++){
        var opt = document.createElement('option');
        opt.value = area[i];
        opt.innerHTML = area[i];
        areaselect.appendChild(opt);
    }
    for (var i = 0; i<city.length; i++){
        var opt = document.createElement('option');
        opt.value = city[i];
        opt.innerHTML = city[i];
        cityselect.appendChild(opt);
    }
    for (var i = 0; i<type.length; i++){
        var opt = document.createElement('option');
        opt.value = type[i];
        opt.innerHTML = type[i];
        typeselect.appendChild(opt);
    }
    function updatemap()
    {
    clearmap();
    let area = document.getElementById("area").value;
    let type = document.getElementById("type").value;
    let city = document.getElementById("city").value;
    if (area!="Select Area" && type!="Select Type" && city!="Select City"){
        document.getElementById("adv").style.display="block";
    }
    for (let i = 0; i < data.length; i++) { // iteration over input
        if (data[i][1]==city && data[i][2]==area && data[i][3]==type){
            let rid = data[i][4];
            window.sessionStorage.setItem('rid', data[i][4]);
            window.sessionStorage.setItem('area', data[i][2]);
        }
    }
    }
    function clearmap(){
    markermap.off();
    markermap.remove();
    markermap = L.map('leaflet-map-marker').setView([24.7926729,46.5841152], 10);
    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoidWRhcyIsImEiOiJjbGhhcDRod2IwZWoyM2VwYzAzdXRqYWczIn0.f2kFlTNpIUc_6YNliuIVpQ', {
        maxZoom: 18,
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
            '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
            'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
        id: 'mapbox/streets-v11',
        tileSize: 512,
        zoomOffset: -1
    }).addTo(markermap);
    }
    // leaflet-map-marker
    var markermap = L.map('leaflet-map-marker').setView([24.7926729,46.5841152], 10);
    
    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoidWRhcyIsImEiOiJjbGhhcDRod2IwZWoyM2VwYzAzdXRqYWczIn0.f2kFlTNpIUc_6YNliuIVpQ', {
        maxZoom: 18,
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
            '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
            'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
        id: 'mapbox/streets-v11',
        tileSize: 512,
        zoomOffset: -1
    }).addTo(markermap);
    
    /**for (let i = 0; i < data.length; i++) { // iteration over input
        let rid = data[i][4];
        val = data[i][5].split(",")
        let latlong = [parseFloat(val[0].trim()),parseFloat(val[1].trim())];
        L.marker(latlong).on('click', markerOnClick1).addTo(markermap); // logs the elements from the current input
    }*/
    //L.marker([24.7926729,46.5841152]).on('click', markerOnClick1).addTo(markermap).bindTooltip("<p>Riyadh Bank</p><p>Bank Type : Govt Bank</p>");
    //L.marker([24.7230499,46.5758106]).on('click', markerOnClick2).addTo(markermap).bindTooltip("<p>The Saudi Investment Bank</p><p>Bank Type : Pvt Bank</p>");
    //L.marker([24.8582607,46.7442107]).on('click', markerOnClick).addTo(markermap).bindTooltip("<p>Al Rajhi Bank</p><p>Bank Type : Govt Bank</p>");
    function markerOnClick1(e){
    let rid = this.getTooltip().getContent().split(":")[0];
    for (let i = 0; i < entity.length; i++) { // iteration over input
        if (entity[i][9]==rid){
        val = entity[i][8]
        if (val.includes(",")) {
            val = val.split(",");
        }
        else {
            val = val.split(" ")
        }
        let latlong = [parseFloat(val[0].trim()),parseFloat(val[1].trim())];
        L.marker(latlong,{icon: L.divIcon({className: 'poi', html: '<h1>🏦</h1>'})}).on('click', markerOnClick2).addTo(markermap).bindTooltip(entity[i][3]+":"+entity[i][2]);
        } // logs the elements from the current input
    }
    for (let j = 0; j < facility.length; j++) { // iteration over input
        if (facility[j][1]==rid){
        val = facility[j][4]
        if (val.includes(",")) {
            val = val.split(",");
        }
        else {
            val = val.split(" ")
        }
        let latlong = [parseFloat(val[0].trim()),parseFloat(val[1].trim())];
        if (facility[j][2]=="Hospital"){L.marker(latlong,{icon: L.divIcon({className: 'poi', html: '<h1>🏥</h1>'})}).addTo(markermap).bindTooltip(facility[j][2]);}
        if (facility[j][2]=="Restaurant"){L.marker(latlong,{icon: L.divIcon({className: 'poi', html: '<h1>🏩</h1>'})}).addTo(markermap).bindTooltip(facility[j][2]);}
        if (facility[j][2]=="Coffee Shop"){L.marker(latlong,{icon: L.divIcon({className: 'poi', html: '<h1>☕</h1>'})}).addTo(markermap).bindTooltip(facility[j][2]);}
        if (facility[j][2]=="School"){L.marker(latlong,{icon: L.divIcon({className: 'poi', html: '<h1>🏫</h1>'})}).addTo(markermap).bindTooltip(facility[j][2]);}
        if (facility[j][2]=="Mall"){L.marker(latlong,{icon: L.divIcon({className: 'poi', html: '<h1>🛍️</h1>'})}).addTo(markermap).bindTooltip(facility[j][2]);}
        }
    }
    for (let j = 0; j < offices.length; j++) { // iteration over input
        if (offices[j][1]==rid){
        val = offices[j][4]
        if (val.includes(",")) {
            val = val.split(",");
        }
        else {
            val = val.split(" ")
        }
        let latlong = [parseFloat(val[0].trim()),parseFloat(val[1].trim())];
        L.marker(latlong,{icon: L.divIcon({className: 'poi', html: '<h3>🏢</h3>'})}).addTo(markermap).bindTooltip("Office Density : "+offices[j][2]);
        if (offices[j][2]=="High"){
            L.circle(latlong, {
                color: 'green',
                fillColor: 'green',
                fillOpacity: 0.5,
                radius: 500
            }).addTo(markermap).bindTooltip('Dense Office Concentration');
        }
        if (offices[j][2]=="Medium"){
            L.circle(latlong, {
                color: 'orange',
                fillColor: 'orange',
                fillOpacity: 0.5,
                radius: 500
            }).addTo(markermap).bindTooltip('Medium Office Concentration');
        }
        if (offices[j][2]=="Low"){
            L.circle(latlong, {
                color: 'red',
                fillColor: 'red',
                fillOpacity: 0.5,
                radius: 500
            }).addTo(markermap).bindTooltip('Low Office Concentration');
        }
        }
    }
    for (let j = 0; j < residential.length; j++) { // iteration over input
        if (residential[j][1]==rid){
        val = residential[j][4]
        if (val.includes(",")) {
            val = val.split(",");
        }
        else {
            val = val.split(" ")
        }
        let latlong = [parseFloat(val[0].trim()),parseFloat(val[1].trim())];
        L.marker(latlong,{icon: L.divIcon({className: 'poi', html: '<h3>🏘️</h3>'})}).addTo(markermap).bindTooltip("Residential Density : "+residential[j][2]);
        if (residential[j][2]=="High"){
            L.circle(latlong, {
                color: 'green',
                fillColor: 'green',
                fillOpacity: 0.5,
                radius: 500
            }).addTo(markermap).bindTooltip('Dense Residential Concentration');
        }
        if (residential[j][2]=="Medium"){
            L.circle(latlong, {
                color: 'orange',
                fillColor: 'orange',
                fillOpacity: 0.5,
                radius: 500
            }).addTo(markermap).bindTooltip('Medium Residential Concentration');
        }
        if (residential[j][2]=="Low"){
            L.circle(latlong, {
                color: 'red',
                fillColor: 'red',
                fillOpacity: 0.5,
                radius: 500
            }).addTo(markermap).bindTooltip('Low Residential Concentration');
        }
    }
    }
    }
    
    function markerOnClick2(e){
        let bid = this.getTooltip().getContent().split(":")[0];
        let bank = this.getTooltip().getContent().split(":")[1];
        document.getElementById("table").innerHTML="";
        let s = "<h1>"+bank+" Data</h1><table><thead><tr><th>Year</th><th>Month</th><th>Tot Cust</th><th>Txn</th><th>NPS</th><th>Eff%</th><th>Rev</th></tr></thead><tbody>";
        for (let j = 0; j < entity_details.length; j++) { // iteration over input
            if (entity_details[j][0]==bid){
                s+=("<tr><td>"+String(entity_details[j][1])+"</td>");
                s+=("<td>"+String(entity_details[j][2])+"</td>");
                s+=("<td>"+String(entity_details[j][3])+"</td>");
                s+=("<td>"+String(entity_details[j][4])+"</td>");
                s+=("<td>"+String(entity_details[j][5])+"</td>");
                s+=("<td>"+String(entity_details[j][6])+"</td>");
                s+=("<td>"+String(entity_details[j][7])+"</td></tr>");
            }
        }
        s+="</tbody></table>"
        for (let j = 0; j < customer_branchmap.length; j++) { // iteration over input
            if (customer_branchmap[j][0]==bid){
                val = customer_branchmap[j][1]
                if (val.includes(",")) {
                    val = val.split(",");
                }
                else {
                    val = val.split(" ")
                }
                let latlong = [parseFloat(val[0].trim())+0.015,parseFloat(val[1].trim())+0.015];
                L.marker(latlong,{icon: L.divIcon({className: 'poi', html: '<h3>👪</h3>'})}).addTo(markermap).bindTooltip(bank+" Customer Concentration");
                /**L.circle(latlong, {
                    color: 'pink',
                    fillColor: 'pink',
                    fillOpacity: 0.5,
                    radius: 500
                }).addTo(markermap).bindTooltip(bank+" Customer Presence");*/
                L.heatLayer([
                [parseFloat(val[0].trim())+0.015,parseFloat(val[1].trim())+0.015],
                [parseFloat(val[0].trim()),parseFloat(val[1].trim())],
                [parseFloat(val[0].trim())+0.03,parseFloat(val[1].trim())],
                [parseFloat(val[0].trim())+0.03,parseFloat(val[1].trim())+0.03],
                [parseFloat(val[0].trim()),parseFloat(val[1].trim())+0.03]
                ], {
                    radius:50,
                    blur:40,
                    maxZoom: 10
                }).addTo(markermap).bindTooltip(bank+" Customer Heatmap");
                L.polygon([
                         [parseFloat(val[0].trim()),parseFloat(val[1].trim())],
                         [parseFloat(val[0].trim())+0.03,parseFloat(val[1].trim())],
                         [parseFloat(val[0].trim())+0.03,parseFloat(val[1].trim())+0.03],
                         [parseFloat(val[0].trim()),parseFloat(val[1].trim())+0.03]
                     ], {
                         color: 'red',
                         fillColor: 'red',
                     }).addTo(markermap).bindTooltip(bank+" Customer Presence");
            }
        }
        var popup = L.popup()
                    .setLatLng(this.getLatLng())
                    .setContent(s)
                    .openOn(markermap);
        markermap.bindPopup(popup,{maxWidth : "auto"});
    }
    // L.circle([24.7230499,46.5758106], {
    //     color: 'orange',
    //     fillColor: 'orange',
    //     fillOpacity: 0.5,
    //     radius: 5000
    // }).addTo(markermap);
    // L.circle([24.8582607,46.7442107], {
    //     color: 'grey',
    //     fillColor: 'grey',
    //     fillOpacity: 0.5,
    //     radius: 5000
    // }).addTo(markermap);
    
    // L.polygon([
    //     [51.509, -0.08],
    //     [51.503, -0.06],
    //     [51.51, -0.047]
    // ], {
    //     color: '#405189',
    //     fillColor: '#405189',
    // }).addTo(markermap);
    
    
    // // Working with popups
    // var popupmap = L.map('leaflet-map-popup').setView([51.505, -0.09], 13);
    
    // L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
    //     maxZoom: 18,
    //     attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
    //         '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
    //         'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
    //     id: 'mapbox/streets-v11',
    //     tileSize: 512,
    //     zoomOffset: -1
    // }).addTo(popupmap);
    
    // L.marker([51.5, -0.09]).addTo(popupmap)
    //     .bindPopup("<b>Hello world!</b><br />I am a popup.").openPopup();
    
    // L.circle([51.508, -0.11], 500, {
    //     color: '#f06548',
    //     fillColor: '#f06548',
    //     fillOpacity: 0.5
    // }).addTo(popupmap).bindPopup("I am a circle.");
    
    // L.polygon([
    //     [51.509, -0.08],
    //     [51.503, -0.06],
    //     [51.51, -0.047]
    // ], {
    //     color: '#405189',
    //     fillColor: '#405189',
    // }).addTo(popupmap).bindPopup("I am a polygon.");
    
    // var popup = L.popup();
    
    // // leaflet-map-custom-icons
    // var customiconsmap = L.map('leaflet-map-custom-icons').setView([51.5, -0.09], 13);
    
    // L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    //     attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    // }).addTo(customiconsmap);
    
    // var LeafIcon = L.Icon.extend({
    //     options: {
    //         iconSize: [45, 45],
    //         iconAnchor: [22, 94],
    //         popupAnchor: [-3, -76]
    //     }
    // });
    
    // var greenIcon = new LeafIcon({
    //     iconUrl: '/static/images/logo-sm.png'
    // });
    
    // L.marker([51.5, -0.09], {
    //     icon: greenIcon
    // }).addTo(customiconsmap);
    
    // // Interactive Choropleth Map
    // var interactivemap = L.map('leaflet-map-interactive-map').setView([37.8, -96], 4);
    
    // L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
    //     maxZoom: 18,
    //     attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
    //         '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
    //         'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
    //     id: 'mapbox/light-v9',
    //     tileSize: 512,
    //     zoomOffset: -1
    // }).addTo(interactivemap);
    
    // // get color depending on population density value
    // function getColor(d) {
    //     return d > 1000 ? '#405189' :
    //         d > 500 ? '#516194' :
    //         d > 200 ? '#63719E' :
    //         d > 100 ? '#7480A9' :
    //         d > 50 ? '#8590B4' :
    //         d > 20 ? '#97A0BF' :
    //         d > 10 ? '#A8B0C9' :
    //         '#A8B0C9';
    // }
    
    // function style(feature) {
    //     return {
    //         weight: 2,
    //         opacity: 1,
    //         color: 'white',
    //         dashArray: '3',
    //         fillOpacity: 0.7,
    //         fillColor: getColor(feature.properties.density)
    //     };
    // }
    
    // var geojson = L.geoJson(statesData, {
    //     style: style,
    // }).addTo(interactivemap);
    
    // // leaflet-map-group-control
    // var cities = L.layerGroup();
    
    // L.marker([39.61, -105.02]).bindPopup('This is Littleton, CO.').addTo(cities),
    //     L.marker([39.74, -104.99]).bindPopup('This is Denver, CO.').addTo(cities),
    //     L.marker([39.73, -104.8]).bindPopup('This is Aurora, CO.').addTo(cities),
    //     L.marker([39.77, -105.23]).bindPopup('This is Golden, CO.').addTo(cities);
    
    
    // var mbAttr = 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
    //     '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
    //     'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
    //     mbUrl = 'https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw';
    
    // var grayscale = L.tileLayer(mbUrl, {
    //         id: 'mapbox/light-v9',
    //         tileSize: 512,
    //         zoomOffset: -1,
    //         attribution: mbAttr
    //     }),
    //     streets = L.tileLayer(mbUrl, {
    //         id: 'mapbox/streets-v11',
    //         tileSize: 512,
    //         zoomOffset: -1,
    //         attribution: mbAttr
    //     });
    
    // var layergroupcontrolmap = L.map('leaflet-map-group-control', {
    //     center: [39.73, -104.99],
    //     zoom: 10,
    //     layers: [streets, cities]
    // });
    
    // var baseLayers = {
    //     "Grayscale": grayscale,
    //     "Streets": streets
    // };
    
    // var overlays = {
    //     "Cities": cities
    // };
    
    // L.control.layers(baseLayers, overlays).addTo(layergroupcontrolmap);
    </script>  
{% endblock extra_js %}
